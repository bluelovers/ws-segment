"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("crlf-normalize"),r=require("debug-color2"),n=require("diff"),o=require("@lazy-cjk/zh-convert/min"),t=require("@novel-segment/stringify");function c(n,c){const i=(n=e.crlf(t.stringify([n].flat())))!==(c=e.crlf(t.stringify([c].flat())));i&&r.console.red(`changed: ${i}`),r.console.gray("------------------"),i?r.console.success(l(n,c)):r.console.log(c),r.console.gray("------------------");const s=o.cn2tw_min(c);return c!==s&&(r.console.log(l(c,s)),r.console.gray("------------------")),{text_old:n,text_new:c,changed:i,text_new2:s}}function l(e,o){let t=n.diffChars(e,o);return r.chalkByConsole((function(e,r){return t.reduce((function(r,n){let o=e[n.added?"green":n.removed?"red":"grey"](n.value);return r.push(o),r}),[]).join("")}))}exports.default=c,exports.diff_log=l,exports.printPrettyDiff=c;
//# sourceMappingURL=index.cjs.production.min.cjs.map

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@novel-segment/util-compare"),t=require("array-hyper-unique"),n=require("@novel-segment/loader-line"),i=require("@novel-segment/util");function r(n,r){return l(e.handleDictLines(n,(function(n,l){l.file=r;let[o]=l.data;if(l.line_type=e.chkLineType(l.line),1==l.line_type)o=o.replace(/^\/\//,"");else if(0==l.line_type){let n=l.data.slice(1);if(n=t.array_unique(n).filter((e=>e!=o)),n.sort((function(t,n){let r=i.getCjkName(t,e.USE_CJK_MODE),l=i.getCjkName(n,e.USE_CJK_MODE);return i.zhDictCompare(r,l)||i.zhDictCompare(t,n)})),l.line=[o].concat(n).join(","),!n.length)return!1}const a=i.getCjkName(o,e.USE_CJK_MODE);return l.cjk_id=a,!0}),{parseFn:e=>e.split(",")}))}function l(e){return e.sort((function(e,t){return 2==e.line_type||2==t.line_type||1==e.line_type||1==t.line_type?e.index-t.index:i.zhDictCompare(e.cjk_id,t.cjk_id)||i.zhDictCompare(t.data[0],e.data[0])||e.index-t.index||0}))}exports.SortList=l,exports.default=r,exports.loadFile=function(e){return n.load(e).then((t=>r(t,e)))},exports.sortLines=r;
//# sourceMappingURL=index.cjs.production.min.cjs.map

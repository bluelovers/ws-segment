"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const naturalCompare = require("string-natural-compare");
const array_hyper_unique_1 = require("array-hyper-unique");
exports._zhDictCompareTable = ((a, b) => {
    return array_hyper_unique_1.array_unique(a.map((value, index, array) => {
        return array_hyper_unique_1.array_unique(value.reduce(function (c, d, currentIndex) {
            c.push(d);
            c.push(b[index][currentIndex]);
            return c;
        }, []));
    }));
})([
    ['一', '二', '两', '三', '四', '五', '六', '七', '八', '九', '十', '十', '零', '幾', '個', '百', '千', '萬', '億'],
    ['上', '下', '左', '右'],
    ['東', '南', '西', '北'],
    ['大', '小'],
    ['高', '低'],
    ['長', '短'],
    ['內', '外'],
    ['男', '女'],
    ['前', '後'],
    ['只', '支', '隻'],
    ['他', '她', '它', '我', '你', '吾', '汝'],
    ['快', '慢'],
    ['春', '夏', '秋', '冬'],
    ['什', '甚'],
    ['侭', '儘', '尽', '盡'],
    ['的', '得'],
    ['胡', '糊', '鬍'],
    ['壹', '貳', '參', '肆', '伍', '陸', '柒', '捌', '玖', '拾', '什'],
    ['儅', '噹', '当', '當'],
    ['炮', '砲', '炰', '泡'],
    ['仲'],
    ['原'],
], [
    ['一', '二', '两', '三', '四', '五', '六', '七', '八', '九', '十', '十', '零', '几', '个', '百', '千', '万', '亿'],
    ['上', '下', '左', '右'],
    ['东', '南', '西', '北'],
    ['大', '小'],
    ['高', '低'],
    ['长', '短'],
    ['内', '外'],
    ['男', '女'],
    ['前', '后'],
    ['只', '支', '隻'],
    ['他', '她', '它', '我', '你', '吾', '汝'],
    ['快', '慢'],
    ['春', '夏', '秋', '冬'],
    ['什', '甚'],
    ['侭', '儘', '尽', '盡'],
    ['的', '得'],
    ['胡', '糊', '鬍'],
    ['壹', '贰', '参', '肆', '伍', '陆', '柒', '捌', '玖', '拾', '什'],
    ['儅', '噹', '当', '當'],
    ['炮', '砲', '炰', '泡'],
    ['中'],
    ['元'],
]);
exports._zhDictCompareTable_chars = array_hyper_unique_1.array_unique(exports._zhDictCompareTable.flat());
exports.RE_ZH = /[\u3400-\u4DBF\u4E00-\u9FFF\u{20000}-\u{2FA1F}]/u;
function zhDictCompare(a, b) {
    let _c = 0;
    let _a0 = a[0];
    let _b0 = b[0];
    let _a;
    let _b;
    let aa = exports.RE_ZH.test(a[0]);
    let bb = exports.RE_ZH.test(b[0]);
    if (aa && bb) {
        if (a.length != b.length && (a.length == 1 || b.length == 1)) {
            return a.length - b.length;
        }
        _a = exports._zhDictCompareTable[0].indexOf(a[0]);
        _b = exports._zhDictCompareTable[0].indexOf(b[0]);
        aa = _a != -1;
        bb = _b != -1;
        if (aa && !bb) {
            return -1;
        }
        else if (!aa && bb) {
            return 1;
        }
    }
    else {
        if (aa && !bb) {
            return 0;
        }
        else if (!aa && bb) {
            return -1;
        }
    }
    if (_a0 != null) {
        let len = a.length;
        for (let i = 0; i < len; i++) {
            if (!a[i] || !b[i] || a[i] == null || b[i] == null) {
                break;
            }
            else if (a[i] !== b[i]) {
                _a0 = a[i];
                _b0 = b[i];
                break;
            }
        }
    }
    if (exports._zhDictCompareTable_chars.includes(_a0) && exports._zhDictCompareTable_chars.includes(_b0)) {
        for (let _arr of exports._zhDictCompareTable) {
            _a = _arr.indexOf(_a0);
            _b = _arr.indexOf(_b0);
            if (_a > -1 && _b > -1) {
                _c = (_a - _b) || 0;
                break;
            }
        }
    }
    return _c || naturalCompare.caseInsensitive(a, b);
}
exports.zhDictCompare = zhDictCompare;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInNvcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5REFBMEQ7QUFDMUQsMkRBQWtEO0FBS3ZDLFFBQUEsbUJBQW1CLEdBQUcsQ0FBQyxDQUFDLENBQWEsRUFBRSxDQUFhLEVBQUUsRUFBRTtJQUVsRSxPQUFPLGlDQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFFakQsT0FBTyxpQ0FBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFlBQVk7WUFFNUQsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNWLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFFL0IsT0FBTyxDQUFDLENBQUM7UUFDVixDQUFDLEVBQUUsRUFBYyxDQUFDLENBQUMsQ0FBQTtJQUNwQixDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDRixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUMvRixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNwQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNwQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDbkMsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ1YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDcEIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ1YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDcEIsQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ1YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNmLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUN2RCxDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBRTtJQUN0QixDQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBRTtJQUN0QixDQUFFLEdBQUcsQ0FBRTtJQUNQLENBQUUsR0FBRyxDQUFFO0NBQ1AsRUFBRTtJQUNGLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQy9GLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ3BCLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ3BCLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNWLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDZixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNuQyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNwQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztJQUNwQixDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUM7SUFDVixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ2YsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0lBQ3ZELENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFFO0lBQ3RCLENBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUs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QUksMkJBQW1CLEVBQ3BDO1lBQ0MsRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDdkIsRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7WUFFdkIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxFQUN0QjtnQkFDQyxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUVwQixNQUFNO2FBQ047U0FDRDtLQUNEO0lBRUQsT0FBTyxFQUFFLElBQUksY0FBYyxDQUFDLGVBQWUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDbkQsQ0FBQztBQXBGRCxzQ0FvRkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbmF0dXJhbENvbXBhcmUgPSByZXF1aXJlKCdzdHJpbmctbmF0dXJhbC1jb21wYXJlJyk7XG5pbXBvcnQgeyBhcnJheV91bmlxdWUgfSBmcm9tICdhcnJheS1oeXBlci11bmlxdWUnO1xuaW1wb3J0IFN0clV0aWwgPSByZXF1aXJlKCdzdHItdXRpbCcpO1xuaW1wb3J0IGxpYlRhYmxlIGZyb20gJ2Nqay1jb252L2xpYi96aC90YWJsZSc7XG5pbXBvcnQgeyB0ZXh0TGlzdCwgc2x1Z2lmeSB9IGZyb20gJ2Nqay1jb252L2xpYi96aC90YWJsZS9saXN0JztcblxuZXhwb3J0IGxldCBfemhEaWN0Q29tcGFyZVRhYmxlID0gKChhOiBzdHJpbmdbXVtdLCBiOiBzdHJpbmdbXVtdKSA9Plxue1xuXHRyZXR1cm4gYXJyYXlfdW5pcXVlKGEubWFwKCh2YWx1ZSwgaW5kZXgsIGFycmF5KSA9PlxuXHR7XG5cdFx0cmV0dXJuIGFycmF5X3VuaXF1ZSh2YWx1ZS5yZWR1Y2UoZnVuY3Rpb24gKGMsIGQsIGN1cnJlbnRJbmRleClcblx0XHR7XG5cdFx0XHRjLnB1c2goZCk7XG5cdFx0XHRjLnB1c2goYltpbmRleF1bY3VycmVudEluZGV4XSk7XG5cblx0XHRcdHJldHVybiBjO1xuXHRcdH0sIFtdIGFzIHN0cmluZ1tdKSlcblx0fSkpO1xufSkoW1xuXHRbJ+S4gCcsICfkuownLCAn5LikJywgJ+S4iScsICflm5snLCAn5LqUJywgJ+WFrScsICfkuIMnLCAn5YWrJywgJ+S5nScsICfljYEnLCAn5Y2BJywgJ+mbticsICflub4nLCAn5YCLJywgJ+eZvicsICfljYMnLCAn6JCsJywgJ+WEhCddLFxuXHRbJ+S4iicsICfkuIsnLCAn5bemJywgJ+WPsyddLFxuXHRbJ+adsScsICfljZcnLCAn6KW/JywgJ+WMlyddLFxuXHRbJ+WkpycsICflsI8nXSxcblx0Wyfpq5gnLCAn5L2OJ10sXG5cdFsn6ZW3JywgJ+efrSddLFxuXHRbJ+WFpycsICflpJYnXSxcblx0WyfnlLcnLCAn5aWzJ10sXG5cdFsn5YmNJywgJ+W+jCddLFxuXHRbJ+WPqicsICfmlK8nLCAn6Zq7J10sXG5cdFsn5LuWJywgJ+WluScsICflroMnLCAn5oiRJywgJ+S9oCcsICflkL4nLCAn5rGdJ10sXG5cdFsn5b+rJywgJ+aFoiddLFxuXHRbJ+aYpScsICflpI8nLCAn56eLJywgJ+WGrCddLFxuXHRbJ+S7gCcsICfnlJonXSxcblx0Wyfkvq0nLCAn5YSYJywgJ+WwvScsICfnm6EnXSxcblx0WyfnmoQnLCAn5b6XJ10sXG5cdFsn6IOhJywgJ+eziicsICfprI0nXSxcblx0Wyflo7knLCAn6LKzJywgJ+WPgycsICfogoYnLCAn5LyNJywgJ+mZuCcsICfmn5InLCAn5o2MJywgJ+eOlicsICfmi74nLCAn5LuAJ10sXG5cdFsgJ+WEhScsICflmbknLCAn5b2TJywgJ+eVticgXSxcblx0WyAn54KuJywgJ+egsicsICfngrAnLCAn5rOhJyBdLFxuXHRbICfku7InIF0sXG5cdFsgJ+WOnycgXSxcbl0sIFtcblx0WyfkuIAnLCAn5LqMJywgJ+S4pCcsICfkuIknLCAn5ZubJywgJ+S6lCcsICflha0nLCAn5LiDJywgJ+WFqycsICfkuZ0nLCAn5Y2BJywgJ+WNgScsICfpm7YnLCAn5YegJywgJ+S4qicsICfnmb4nLCAn5Y2DJywgJ+S4hycsICfkur8nXSxcblx0WyfkuIonLCAn5LiLJywgJ+W3picsICflj7MnXSxcblx0WyfkuJwnLCAn5Y2XJywgJ+ilvycsICfljJcnXSxcblx0WyflpKcnLCAn5bCPJ10sXG5cdFsn6auYJywgJ+S9jiddLFxuXHRbJ+mVvycsICfnn60nXSxcblx0WyflhoUnLCAn5aSWJ10sXG5cdFsn55S3JywgJ+WlsyddLFxuXHRbJ+WJjScsICflkI4nXSxcblx0Wyflj6onLCAn5pSvJywgJ+mauyddLFxuXHRbJ+S7licsICflpbknLCAn5a6DJywgJ+aIkScsICfkvaAnLCAn5ZC+JywgJ+axnSddLFxuXHRbJ+W/qycsICfmhaInXSxcblx0WyfmmKUnLCAn5aSPJywgJ+eniycsICflhqwnXSxcblx0Wyfku4AnLCAn55SaJ10sXG5cdFsn5L6tJywgJ+WEmCcsICflsL0nLCAn55uhJ10sXG5cdFsn55qEJywgJ+W+lyddLFxuXHRbJ+iDoScsICfns4onLCAn6ayNJ10sXG5cdFsn5aO5JywgJ+i0sCcsICflj4InLCAn6IKGJywgJ+S8jScsICfpmYYnLCAn5p+SJywgJ+aNjCcsICfnjpYnLCAn5ou+JywgJ+S7gCddLFxuXHRbICflhIUnLCAn5Zm5JywgJ+W9kycsICfnlbYnIF0sXG5cdFsgJ+eCricsICfnoLInLCAn54KwJywgJ+azoScgXSxcblx0WyAn5LitJyBdLFxuXHRbICflhYMnIF0sXG5dKTtcblxuZXhwb3J0IGxldCBfemhEaWN0Q29tcGFyZVRhYmxlX2NoYXJzID0gYXJyYXlfdW5pcXVlKF96aERpY3RDb21wYXJlVGFibGUuZmxhdCgpKTtcblxuZXhwb3J0IGNvbnN0IFJFX1pIID0gL1tcXHUzNDAwLVxcdTREQkZcXHU0RTAwLVxcdTlGRkZcXHV7MjAwMDB9LVxcdXsyRkExRn1dL3U7XG5cbmV4cG9ydCBmdW5jdGlvbiB6aERpY3RDb21wYXJlKGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyXG57XG5cdGxldCBfYyA9IDA7XG5cblx0bGV0IF9hMCA9IGFbMF07XG5cdGxldCBfYjAgPSBiWzBdO1xuXG5cdGxldCBfYTogbnVtYmVyO1xuXHRsZXQgX2I6IG51bWJlcjtcblxuXHRsZXQgYWEgPSBSRV9aSC50ZXN0KGFbMF0pO1xuXHRsZXQgYmIgPSBSRV9aSC50ZXN0KGJbMF0pO1xuXG5cdGlmIChhYSAmJiBiYilcblx0e1xuXHRcdGlmIChhLmxlbmd0aCAhPSBiLmxlbmd0aCAmJiAoYS5sZW5ndGggPT0gMSB8fCBiLmxlbmd0aCA9PSAxKSlcblx0XHR7XG5cdFx0XHRyZXR1cm4gYS5sZW5ndGggLSBiLmxlbmd0aFxuXHRcdH1cblxuXHRcdF9hID0gX3poRGljdENvbXBhcmVUYWJsZVswXS5pbmRleE9mKGFbMF0pO1xuXHRcdF9iID0gX3poRGljdENvbXBhcmVUYWJsZVswXS5pbmRleE9mKGJbMF0pO1xuXG5cdFx0YWEgPSBfYSAhPSAtMTtcblx0XHRiYiA9IF9iICE9IC0xO1xuXG5cdFx0aWYgKGFhICYmICFiYilcblx0XHR7XG5cdFx0XHRyZXR1cm4gLTFcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIWFhICYmIGJiKVxuXHRcdHtcblx0XHRcdHJldHVybiAxXG5cdFx0fVxuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdGlmIChhYSAmJiAhYmIpXG5cdFx0e1xuXHRcdFx0cmV0dXJuIDBcblx0XHR9XG5cdFx0ZWxzZSBpZiAoIWFhICYmIGJiKVxuXHRcdHtcblx0XHRcdHJldHVybiAtMVxuXHRcdH1cblx0fVxuXG5cdGlmIChfYTAgIT0gbnVsbClcblx0e1xuXHRcdGxldCBsZW4gPSBhLmxlbmd0aDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspXG5cdFx0e1xuXHRcdFx0aWYgKCFhW2ldIHx8ICFiW2ldIHx8IGFbaV0gPT0gbnVsbCB8fCBiW2ldID09IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoYVtpXSAhPT0gYltpXSlcblx0XHRcdHtcblx0XHRcdFx0X2EwID0gYVtpXTtcblx0XHRcdFx0X2IwID0gYltpXTtcblxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRpZiAoX3poRGljdENvbXBhcmVUYWJsZV9jaGFycy5pbmNsdWRlcyhfYTApICYmIF96aERpY3RDb21wYXJlVGFibGVfY2hhcnMuaW5jbHVkZXMoX2IwKSlcblx0e1xuXHRcdGZvciAobGV0IF9hcnIgb2YgX3poRGljdENvbXBhcmVUYWJsZSlcblx0XHR7XG5cdFx0XHRfYSA9IF9hcnIuaW5kZXhPZihfYTApO1xuXHRcdFx0X2IgPSBfYXJyLmluZGV4T2YoX2IwKTtcblxuXHRcdFx0aWYgKF9hID4gLTEgJiYgX2IgPiAtMSlcblx0XHRcdHtcblx0XHRcdFx0X2MgPSAoX2EgLSBfYikgfHwgMDtcblxuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gX2MgfHwgbmF0dXJhbENvbXBhcmUuY2FzZUluc2Vuc2l0aXZlKGEsIGIpO1xufVxuIl19